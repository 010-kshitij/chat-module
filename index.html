<!DOCTYPE html>
<html>
    <head>
        <title>Chat Module</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
    </head>
    <head>
        <body>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h4>Chat Module</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div id="message-area">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <form id="messageForm">
                            <label>Enter Message</label>
                            <textarea class="form-control" id="message"></textarea>
                            <input type="submit" class="btn btn-primary" value="Send"/>
                        </form>
                    </div>
                </div>
            </div>
            <script>
                var socket = io.connect();
                
                $(document).on('submit', "#messageForm", function(event) {
                    event.preventDefault();
                    socket.emit("send message", $("#message").val());
                    $("#message").val("");
                });

                socket.on("new message", function(data) {
                    $("#message-area").append('<p>' + data.msg + '</p>');
                });
            </script>
        </body>
    </head>
</html>